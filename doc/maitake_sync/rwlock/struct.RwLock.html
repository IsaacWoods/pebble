<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An asynchronous readers-writer lock."><title>RwLock in maitake_sync::rwlock - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-2c208a72533b4dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="maitake_sync" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0-nightly (0bf471f33 2024-04-13)" data-channel="nightly" data-search-js="search-ffac13a0df2b1870.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-e32f0c247825364d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-c97aec732c613ca4.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-09095024cf37855e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../maitake_sync/index.html">maitake_sync</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">RwLock</a></h2><div class="sidebar-elems"><section><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.new">new</a></li><li><a href="#method.read">read</a></li><li><a href="#method.read_owned">read_owned</a></li><li><a href="#method.try_read">try_read</a></li><li><a href="#method.try_read_owned">try_read_owned</a></li><li><a href="#method.try_write">try_write</a></li><li><a href="#method.try_write_owned">try_write_owned</a></li><li><a href="#method.write">write</a></li><li><a href="#method.write_owned">write_owned</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Debug-for-RwLock%3CT%3E">Debug</a></li><li><a href="#impl-Send-for-RwLock%3CT%3E">Send</a></li><li><a href="#impl-Sync-for-RwLock%3CT%3E">Sync</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-RwLock%3CT%3E">!Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-RwLock%3CT%3E">!RefUnwindSafe</a></li><li><a href="#impl-UnwindSafe-for-RwLock%3CT%3E">!UnwindSafe</a></li><li><a href="#impl-Unpin-for-RwLock%3CT%3E">Unpin</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-T">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-T">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T">TryInto&lt;U&gt;</a></li></ul></section><h2><a href="index.html">In maitake_sync::rwlock</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../maitake_sync/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="../index.html">maitake_sync</a>::<wbr><a href="index.html">rwlock</a>::<wbr><a class="struct" href="#">RwLock</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/maitake_sync/rwlock.rs.html#92-101">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct RwLock&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; { <span class="comment">/* private fields */</span> }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An asynchronous <a href="https://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock">readers-writer lock</a>.</p>
<p>This type of lock protects shared data by allowing either multiple
concurrent readers (shared access), or a single writer (exclusive access) at
a given point in time. If the shared data must be modified, write access
must be acquired, preventing other threads from accessing the data while it
is being written, but multiple threads can read the shared data when it is
not being mutated.</p>
<p>This is in contrast to a <a href="../struct.Mutex.html" title="struct maitake_sync::Mutex"><code>Mutex</code></a>, which only ever allows a single
core/thread to access the shared data at any point in time. In some cases,
such as when a large number of readers need to access the shared data
without modifying it, using a <code>RwLock</code> can be more efficient than a
<a href="../struct.Mutex.html" title="struct maitake_sync::Mutex"><code>Mutex</code></a>.</p>
<h2 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h2>
<p>The type parameter <code>T</code> represents the data that this lock protects. It is
required that <code>T</code> satisfies <a href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send"><code>Send</code></a> to be shared across threads and
<a href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync"><code>Sync</code></a> to allow concurrent access through readers. The RAII guards
returned from the locking methods implement <a href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref"><code>Deref</code></a> (and <a href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.DerefMut.html" title="trait core::ops::deref::DerefMut"><code>DerefMut</code></a>
for the <code>write</code> methods) to allow access to the content of the lock.</p>
<p>The <a href="../struct.RwLock.html#method.read" title="method maitake_sync::RwLock::read"><code>read</code></a> method acquires read access to the lock, returning a
<a href="../struct.RwLockReadGuard.html" title="struct maitake_sync::RwLockReadGuard"><code>RwLockReadGuard</code></a>. If the lock is currently locked for write access, the
<a href="../struct.RwLock.html#method.read" title="method maitake_sync::RwLock::read"><code>read</code></a> method will wait until the write access completes before allowing
read access to the locked data.</p>
<p>The <a href="../struct.RwLock.html#method.write" title="method maitake_sync::RwLock::write"><code>write</code></a> method acquires write access to the lock, returning a
<a href="../struct.RwLockWriteGuard.html" title="struct maitake_sync::RwLockWriteGuard"><code>RwLockWriteGuard</code></a>, which implements <a href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.DerefMut.html" title="trait core::ops::deref::DerefMut"><code>DerefMut</code></a>. If the lock is
currently locked for reading <em>or</em> writing, the <a href="../struct.RwLock.html#method.write" title="method maitake_sync::RwLock::write"><code>write</code></a> method will wait
until all current reads or the current write completes before allowing write
access to the locked data.</p>
<h2 id="priority-policy"><a class="doc-anchor" href="#priority-policy">§</a>Priority Policy</h2>
<p>The priority policy of this lock is <em>fair</em> (or <a href="https://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock#Priority_policies"><em>write-preferring</em></a>), in
order to ensure that readers cannot starve  writers. Fairness is ensured
using a first-in, first-out queue for the tasks awaiting the lock; if a task
that wishes to acquire the write lock is at the head of the queue, read
locks will not be given out until the write lock has  been released. This is
in contrast to the Rust standard library’s <a href="https://doc.rust-lang.org/stable/std/sync/struct.RwLock.html"><code>std::sync::RwLock</code></a>, where the
priority policy is dependent on the operating system’s implementation.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;

<span class="kw">let </span>lock = RwLock::new(<span class="number">5</span>);

<span class="comment">// many reader locks can be held at once
</span>{
    <span class="kw">let </span>r1 = lock.read().<span class="kw">await</span>;
    <span class="kw">let </span>r2 = lock.read().<span class="kw">await</span>;
    <span class="macro">assert_eq!</span>(<span class="kw-2">*</span>r1, <span class="number">5</span>);
    <span class="macro">assert_eq!</span>(<span class="kw-2">*</span>r2, <span class="number">5</span>);
} <span class="comment">// read locks are dropped at this point

// only one write lock may be held, however
</span>{
    <span class="kw">let </span><span class="kw-2">mut </span>w = lock.write().<span class="kw">await</span>;
    <span class="kw-2">*</span>w += <span class="number">1</span>;
    <span class="macro">assert_eq!</span>(<span class="kw-2">*</span>w, <span class="number">6</span>);
} <span class="comment">// write lock is dropped here</span></code></pre></div>
</div></details><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-RwLock%3CT%3E" class="impl"><a class="src rightside" href="../../src/maitake_sync/rwlock/owned.rs.html#98-317">source</a><a href="#impl-RwLock%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.read_owned" class="method"><a class="src rightside" href="../../src/maitake_sync/rwlock/owned.rs.html#164-167">source</a><h4 class="code-header">pub async fn <a href="#method.read_owned" class="fn">read_owned</a>(self: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;Self&gt;) -&gt; <a class="struct" href="struct.OwnedRwLockReadGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockReadGuard">OwnedRwLockReadGuard</a>&lt;T&gt;</h4></section></summary><div class="docblock"><p>Locks this <code>RwLock</code> with shared read access, returning an <a href="struct.OwnedRwLockReadGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockReadGuard">owned RAII
guard</a>.</p>
<p>This method is identical to <a href="../struct.RwLock.html#method.read" title="method maitake_sync::RwLock::read"><code>RwLock::read</code></a>, execept that it requires
the <code>RwLock</code> to be wrapped in an <a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc"><code>Arc</code></a>, and returns an
<a href="struct.OwnedRwLockReadGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockReadGuard"><code>OwnedRwLockReadGuard</code></a> that clones the <a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc"><code>Arc</code></a> rather than
borrowing the lock. Therefore, the returned guard is valid for the
<code>'static</code> lifetime.</p>
<p>If the lock is locked for write access, the calling task will yield and
wait until there are no writers which  hold the lock. There may be other
readers inside the lock when the task resumes.</p>
<p>Note that under the <a href="../struct.RwLock.html#priority-policy" title="struct maitake_sync::RwLock">priority policy</a> of <a href="../struct.RwLock.html" title="struct maitake_sync::RwLock"><code>RwLock</code></a>, read locks are not
granted until prior write locks, to prevent starvation. Therefore
deadlock may occur if a read lock is held by the current task, a write
lock attempt is made, and then a subsequent read lock attempt is made
by the current task.</p>
<p>Returns <a href="struct.OwnedRwLockReadGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockReadGuard">an RAII guard</a> which will release this read access of the
<code>RwLock</code> when dropped.</p>
<h5 id="cancellation"><a class="doc-anchor" href="#cancellation">§</a>Cancellation</h5>
<p>This method <a href="../struct.RwLock.html#priority-policy" title="struct maitake_sync::RwLock">uses a queue to fairly distribute locks</a>
in the order they  were requested. Cancelling a call to <code>read</code> results
in the calling task losing its place in the queue.</p>
<h5 id="examples-1"><a class="doc-anchor" href="#examples-1">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;
<span class="kw">use </span>alloc::sync::Arc;

<span class="kw">let </span>lock = Arc::new(RwLock::new(<span class="number">1</span>));
<span class="comment">// hold the lock for reading in `main`.
</span><span class="kw">let </span>n = lock
    .try_read()
    .expect(<span class="string">"read lock must be acquired, as the lock is unlocked"</span>);
<span class="macro">assert_eq!</span>(<span class="kw-2">*</span>n, <span class="number">1</span>);

task::spawn({
    <span class="kw">let </span>lock = lock.clone();
    <span class="kw">async move </span>{
        <span class="comment">// While main has an active read lock, this task can acquire
        // one too.
        </span><span class="kw">let </span>n = lock.read_owned().<span class="kw">await</span>;
        <span class="macro">assert_eq!</span>(<span class="kw-2">*</span>n, <span class="number">1</span>);
    }
});</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_owned" class="method"><a class="src rightside" href="../../src/maitake_sync/rwlock/owned.rs.html#219-222">source</a><h4 class="code-header">pub async fn <a href="#method.write_owned" class="fn">write_owned</a>(self: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;Self&gt;) -&gt; <a class="struct" href="struct.OwnedRwLockWriteGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockWriteGuard">OwnedRwLockWriteGuard</a>&lt;T&gt;</h4></section></summary><div class="docblock"><p>Locks this <code>RwLock</code> with exclusive write access,returning an <a href="struct.OwnedRwLockWriteGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockWriteGuard">owned RAII
guard</a>.</p>
<p>This method is identical to <a href="../struct.RwLock.html#method.write" title="method maitake_sync::RwLock::write"><code>RwLock::write</code></a>, execept that it requires
the <code>RwLock</code> to be wrapped in an <a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc"><code>Arc</code></a>, and returns an
<a href="struct.OwnedRwLockWriteGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockWriteGuard"><code>OwnedRwLockWriteGuard</code></a> that clones the <a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc"><code>Arc</code></a> rather than
borrowing the lock. Therefore, the returned guard is valid for the
<code>'static</code> lifetime.</p>
<h5 id="returns"><a class="doc-anchor" href="#returns">§</a>Returns</h5>
<p>If other tasks are holding a read or write lock, the calling task will
wait until the write lock or all read locks are released.</p>
<p>Returns <a href="struct.OwnedRwLockWriteGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockWriteGuard">an RAII guard</a> which will release the write access of this
<code>RwLock</code> when dropped.</p>
<h5 id="cancellation-1"><a class="doc-anchor" href="#cancellation-1">§</a>Cancellation</h5>
<p>This method <a href="../struct.RwLock.html#priority-policy" title="struct maitake_sync::RwLock">uses a queue to fairly distribute
locks</a> in the order they were requested.
Cancelling a call to <code>write</code> results in the calling task losing its place
in the queue.</p>
<h5 id="examples-2"><a class="doc-anchor" href="#examples-2">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;
<span class="kw">use </span>alloc::sync::Arc;

<span class="kw">let </span>lock = Arc::new(RwLock::new(<span class="number">1</span>));

task::spawn(<span class="kw">async move </span>{
    <span class="kw">let </span><span class="kw-2">mut </span>guard = lock.write_owned().<span class="kw">await</span>;
    <span class="kw-2">*</span>guard += <span class="number">1</span>;
});</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_read_owned" class="method"><a class="src rightside" href="../../src/maitake_sync/rwlock/owned.rs.html#266-269">source</a><h4 class="code-header">pub fn <a href="#method.try_read_owned" class="fn">try_read_owned</a>(self: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;Self&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.OwnedRwLockReadGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockReadGuard">OwnedRwLockReadGuard</a>&lt;T&gt;&gt;</h4></section></summary><div class="docblock"><p>Attempts to acquire this <code>RwLock</code> for shared read access, without
waiting, and returning an <a href="struct.OwnedRwLockReadGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockReadGuard">owned RAII guard</a>.</p>
<p>This method is identical to <a href="../struct.RwLock.html#method.try_read" title="method maitake_sync::RwLock::try_read"><code>RwLock::try_read</code></a>, execept that it requires
the <code>RwLock</code> to be wrapped in an <a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc"><code>Arc</code></a>, and returns an
<a href="struct.OwnedRwLockReadGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockReadGuard"><code>OwnedRwLockReadGuard</code></a> that clones the <a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc"><code>Arc</code></a> rather than
borrowing the lock. Therefore, the returned guard is valid for the
<code>'static</code> lifetime.</p>
<h5 id="returns-1"><a class="doc-anchor" href="#returns-1">§</a>Returns</h5>
<p>If the access couldn’t be acquired immediately, this method returns
<a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> rather than waiting.</p>
<p>Otherwise, <a href="struct.OwnedRwLockReadGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockReadGuard">an RAII guard</a> is returned, which allows read access to the
protected data and will release that access when dropped.</p>
<h5 id="examples-3"><a class="doc-anchor" href="#examples-3">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;
<span class="kw">use </span>alloc::sync::Arc;

<span class="kw">let </span>lock = Arc::new(RwLock::new(<span class="number">1</span>));

<span class="kw">let </span><span class="kw-2">mut </span>write_guard = lock
    .try_write()
    .expect(<span class="string">"lock is unlocked, so write access should be acquired"</span>);
<span class="kw-2">*</span>write_guard += <span class="number">1</span>;

<span class="comment">// because a write guard is held, we cannot acquire the read lock, so
// this will return `None`.
</span><span class="macro">assert!</span>(lock.try_read_owned().is_none());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_write_owned" class="method"><a class="src rightside" href="../../src/maitake_sync/rwlock/owned.rs.html#313-316">source</a><h4 class="code-header">pub fn <a href="#method.try_write_owned" class="fn">try_write_owned</a>(self: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;Self&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.OwnedRwLockWriteGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockWriteGuard">OwnedRwLockWriteGuard</a>&lt;T&gt;&gt;</h4></section></summary><div class="docblock"><p>Attempts to acquire this <code>RwLock</code> for exclusive write access, without
waiting, and returning an <a href="struct.OwnedRwLockWriteGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockWriteGuard">owned RAII guard</a>.</p>
<p>This method is identical to <a href="../struct.RwLock.html#method.try_write" title="method maitake_sync::RwLock::try_write"><code>RwLock::try_write</code></a>, execept that it requires
the <code>RwLock</code> to be wrapped in an <a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc"><code>Arc</code></a>, and returns an
<a href="struct.OwnedRwLockWriteGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockWriteGuard"><code>OwnedRwLockWriteGuard</code></a> that clones the <a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc"><code>Arc</code></a> rather than
borrowing the lock. Therefore, the returned guard is valid for the
<code>'static</code> lifetime.</p>
<h5 id="returns-2"><a class="doc-anchor" href="#returns-2">§</a>Returns</h5>
<p>If the access couldn’t be acquired immediately, this method returns
<a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> rather than waiting.</p>
<p>Otherwise, <a href="struct.OwnedRwLockWriteGuard.html" title="struct maitake_sync::rwlock::OwnedRwLockWriteGuard">an RAII guard</a> is returned, which allows write access to the
protected data and will release that access when dropped.</p>
<h5 id="examples-4"><a class="doc-anchor" href="#examples-4">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;
<span class="kw">use </span>alloc::sync::Arc;

<span class="kw">let </span>lock = Arc::new(RwLock::new(<span class="number">1</span>));

<span class="kw">let </span>read_guard = lock
    .try_read()
    .expect(<span class="string">"lock is unlocked, so read access should be acquired"</span>);
<span class="macro">assert_eq!</span>(<span class="kw-2">*</span>read_guard, <span class="number">1</span>);

<span class="comment">// because a read guard is held, we cannot acquire the write lock, so
// this will return `None`.
</span><span class="macro">assert!</span>(lock.try_write_owned().is_none());</code></pre></div>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-RwLock%3CT%3E-1" class="impl"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#165-195">source</a><a href="#impl-RwLock%3CT%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#166-194">source</a><h4 class="code-header">pub const fn <a href="#method.new" class="fn">new</a>(data: T) -&gt; Self</h4></section></summary><div class="docblock"><p>Returns a new <code>RwLock</code> protecting the provided <code>data</code>, in an
unlocked state.</p>
<h5 id="examples-5"><a class="doc-anchor" href="#examples-5">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;

<span class="kw">let </span>lock = RwLock::new(<span class="number">5</span>);</code></pre></div>
<p>Because this is a <code>const fn</code>, it may be used in <code>static</code>
initializers:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;

<span class="kw">static </span>LOCK: RwLock&lt;usize&gt; = RwLock::new(<span class="number">5</span>);</code></pre></div>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-RwLock%3CT%3E-2" class="impl"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#197-404">source</a><a href="#impl-RwLock%3CT%3E-2" class="anchor">§</a><h3 class="code-header">impl&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.read" class="method"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#261-271">source</a><h4 class="code-header">pub async fn <a href="#method.read" class="fn">read</a>(&amp;self) -&gt; <a class="struct" href="../struct.RwLockReadGuard.html" title="struct maitake_sync::RwLockReadGuard">RwLockReadGuard</a>&lt;'_, T&gt;</h4></section></summary><div class="docblock"><p>Locks this <code>RwLock</code> with shared read access, causing the current task
to yield until the lock has been acquired.</p>
<p>If the lock is locked for write access, the calling task will yield and
wait until there are no writers which  hold the lock. There may be other
readers inside the lock when the task resumes.</p>
<p>Note that under the <a href="../struct.RwLock.html#priority-policy" title="struct maitake_sync::RwLock">priority policy</a> of <a href="../struct.RwLock.html" title="struct maitake_sync::RwLock"><code>RwLock</code></a>, read locks are not
granted until prior write locks, to prevent starvation. Therefore
deadlock may occur if a read lock is held by the current task, a write
lock attempt is made, and then a subsequent read lock attempt is made
by the current task.</p>
<p>Returns [an RAII guard] which will release this read access of the
<code>RwLock</code>  when dropped.</p>
<h5 id="cancellation-2"><a class="doc-anchor" href="#cancellation-2">§</a>Cancellation</h5>
<p>This method <a href="../struct.RwLock.html#priority-policy" title="struct maitake_sync::RwLock">uses a queue to fairly distribute locks</a>
in the order they  were requested. Cancelling a call to <code>read</code> results
in the calling task losing its place in the queue.</p>
<h5 id="examples-6"><a class="doc-anchor" href="#examples-6">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;
<span class="kw">use </span>alloc::sync::Arc;

<span class="kw">let </span>lock = Arc::new(RwLock::new(<span class="number">1</span>));

<span class="comment">// hold the lock for reading in `main`.
</span><span class="kw">let </span>n = lock
    .try_read()
    .expect(<span class="string">"read lock must be acquired, as the lock is unlocked"</span>);
<span class="macro">assert_eq!</span>(<span class="kw-2">*</span>n, <span class="number">1</span>);

task::spawn({
    <span class="kw">let </span>lock = lock.clone();
    <span class="kw">async move </span>{
        <span class="comment">// While main has an active read lock, this task can acquire
        // one too.
        </span><span class="kw">let </span>n = lock.read().<span class="kw">await</span>;
        <span class="macro">assert_eq!</span>(<span class="kw-2">*</span>n, <span class="number">1</span>);
    }
});
</code></pre></div>
<p>[an RAII guard]:</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write" class="method"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#313-323">source</a><h4 class="code-header">pub async fn <a href="#method.write" class="fn">write</a>(&amp;self) -&gt; <a class="struct" href="../struct.RwLockWriteGuard.html" title="struct maitake_sync::RwLockWriteGuard">RwLockWriteGuard</a>&lt;'_, T&gt;</h4></section></summary><div class="docblock"><p>Locks this <code>RwLock</code> with exclusive write access, causing the current
task to yield until the lock has been acquired.</p>
<p>If other tasks are holding a read or write lock, the calling task will
wait until the write lock or all read locks are released.</p>
<p>Returns [an RAII guard] which will release the write access of this
<code>RwLock</code> when dropped.</p>
<h5 id="cancellation-3"><a class="doc-anchor" href="#cancellation-3">§</a>Cancellation</h5>
<p>This method <a href="../struct.RwLock.html#priority-policy" title="struct maitake_sync::RwLock">uses a queue to fairly distribute
locks</a> in the order they were requested.
Cancelling a call to <code>write</code> results in the calling task losing its place
in the queue.</p>
<h5 id="examples-7"><a class="doc-anchor" href="#examples-7">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;
<span class="kw">use </span>alloc::sync::Arc;

<span class="kw">let </span>lock = Arc::new(RwLock::new(<span class="number">1</span>));

task::spawn(<span class="kw">async move </span>{
    <span class="kw">let </span><span class="kw-2">mut </span>guard = lock.write().<span class="kw">await</span>;
    <span class="kw-2">*</span>guard += <span class="number">1</span>;
});</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_read" class="method"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#352-363">source</a><h4 class="code-header">pub fn <a href="#method.try_read" class="fn">try_read</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.RwLockReadGuard.html" title="struct maitake_sync::RwLockReadGuard">RwLockReadGuard</a>&lt;'_, T&gt;&gt;</h4></section></summary><div class="docblock"><p>Attempts to acquire this <code>RwLock</code> for shared read access, without
waiting.</p>
<p>If the access couldn’t be acquired immediately, this method returns
<a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> rather than waiting.</p>
<p>Otherwise, <a href="../struct.RwLockReadGuard.html" title="struct maitake_sync::RwLockReadGuard">an RAII guard</a> is returned, which allows read access to the
protected data and will release that access when dropped.</p>
<h5 id="examples-8"><a class="doc-anchor" href="#examples-8">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;

<span class="kw">let </span>lock = RwLock::new(<span class="number">1</span>);

<span class="kw">let </span><span class="kw-2">mut </span>write_guard = lock
    .try_write()
    .expect(<span class="string">"lock is unlocked, so write access should be acquired"</span>);
<span class="kw-2">*</span>write_guard += <span class="number">1</span>;

<span class="comment">// because a write guard is held, we cannot acquire the read lock, so
// this will return `None`.
</span><span class="macro">assert!</span>(lock.try_read().is_none());</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_write" class="method"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#392-403">source</a><h4 class="code-header">pub fn <a href="#method.try_write" class="fn">try_write</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.RwLockWriteGuard.html" title="struct maitake_sync::RwLockWriteGuard">RwLockWriteGuard</a>&lt;'_, T&gt;&gt;</h4></section></summary><div class="docblock"><p>Attempts to acquire this <code>RwLock</code> for exclusive write access, without
waiting.</p>
<p>If the access couldn’t be acquired immediately, this method returns
<a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> rather than waiting.</p>
<p>Otherwise, <a href="../struct.RwLockWriteGuard.html" title="struct maitake_sync::RwLockWriteGuard">an RAII guard</a> is returned, which allows write access to the
protected data and will release that access when dropped.</p>
<h5 id="examples-9"><a class="doc-anchor" href="#examples-9">§</a>Examples</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>maitake_sync::RwLock;

<span class="kw">let </span>lock = RwLock::new(<span class="number">1</span>);

<span class="kw">let </span>read_guard = lock
    .try_read()
    .expect(<span class="string">"lock is unlocked, so read access should be acquired"</span>);
<span class="macro">assert_eq!</span>(<span class="kw-2">*</span>read_guard, <span class="number">1</span>);

<span class="comment">// because a read guard is held, we cannot acquire the write lock, so
// this will return `None`.
</span><span class="macro">assert!</span>(lock.try_write().is_none());</code></pre></div>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-RwLock%3CT%3E" class="impl"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#406-414">source</a><a href="#impl-Debug-for-RwLock%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#407-413">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details><section id="impl-Send-for-RwLock%3CT%3E" class="impl"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#419">source</a><a href="#impl-Send-for-RwLock%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,</div></h3></section><section id="impl-Sync-for-RwLock%3CT%3E" class="impl"><a class="src rightside" href="../../src/maitake_sync/rwlock.rs.html#420">source</a><a href="#impl-Sync-for-RwLock%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</div></h3></section></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-RwLock%3CT%3E" class="impl"><a href="#impl-Freeze-for-RwLock%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;</h3></section><section id="impl-RefUnwindSafe-for-RwLock%3CT%3E" class="impl"><a href="#impl-RefUnwindSafe-for-RwLock%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;</h3></section><section id="impl-Unpin-for-RwLock%3CT%3E" class="impl"><a href="#impl-Unpin-for-RwLock%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section><section id="impl-UnwindSafe-for-RwLock%3CT%3E" class="impl"><a href="#impl-UnwindSafe-for-RwLock%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="../struct.RwLock.html" title="struct maitake_sync::RwLock">RwLock</a>&lt;T&gt;</h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#140">source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#141">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#208">source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#210">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#216">source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#217">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#765">source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#768">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#748-750">source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#758">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#805-807">source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#812">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#790-792">source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#797">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>